!function(){"use strict";var e={};function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var t;e.g.importScripts&&(t=e.g.location+"");var i=e.g.document;if(!t&&i&&(i.currentScript&&(t=i.currentScript.src),!t)){var a=i.getElementsByTagName("script");a.length&&(t=a[a.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.mode="MD5",this.defaultHashValue="XXXXXXXXXXXXXXXX",this.init()}var i,a;return i=e,(a=[{key:"init",value:function(){this.drawWidget()}},{key:"drawWidget",value:function(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("widget-wrapper"),this.wrapper.innerHTML='<div class="widget">\n        <div class="block-hasher">\n          <div class="block-hasher-input">\n            <h1 class="block-hasher_title">Hasher</h1>\n            <div class="block-input-file">\n              <div class="block-input">\n                <input type="file" class="input input_file">\n              </div>\n              <div class="file-wrapper">\n                <p class="file-wrapper_text">Drop file here</p>\n                <p class="file-wrapper_text">or</p>\n                <p class="file-wrapper_text">Click to select</p>\n              </div>\n            </div>\n          </div>\n          <div class="block-hasher-mode">\n            <div class="block-mode-info">\n              <span class="block-hasher-algorithm">Hash algorithm:</span>\n              <div class="selected-mode">MD5</div>\n            </div>\n            <ul class="mode-list disable">\n              <li data-mode="md5" class="mode-item">MD5</li>\n              <li data-mode="sha1" class="mode-item">SHA1</li>\n              <li data-mode="sha256" class="mode-item">SHA256</li>\n              <li data-mode="sha512" class="mode-item">SHA512</li>\n            </ul>\n          </div>\n        </div>\n        <div class="block-hash">\n          <h2 class="block-calculated-hash_title">\n            Calculated Hash\n          </h2>\n          <p class="block-calculated-hash-result"></p>\n        </div>\n      </div>',this.element.appendChild(this.wrapper),this.blockCalculatedHashResult=this.wrapper.querySelector(".block-calculated-hash-result"),this.blockCalculatedHashResult.textContent=this.defaultHashValue,this.modeList=this.wrapper.querySelector(".mode-list"),this.inputFile=this.wrapper.querySelector(".input_file"),this.fileWrapper=this.wrapper.querySelector(".file-wrapper"),this.selectedMode=this.wrapper.querySelector(".selected-mode")}},{key:"drawHash",value:function(e){this.blockCalculatedHashResult.textContent=e}},{key:"openModeList",value:function(){this.modeList.classList.remove("disable"),this.modeList.style.left="".concat(this.selectedMode.offsetLeft,"px")}},{key:"closeModeList",value:function(){this.modeList.classList.add("disable")}},{key:"selectionMode",value:function(e){this.selectedMode.textContent=e}},{key:"fileWrapperActivate",value:function(){this.fileWrapper.classList.add("active")}},{key:"fileWrapperDisactivate",value:function(){this.fileWrapper.classList.remove("active")}}])&&t(i.prototype,a),e}();function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}new(function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.widget=t,this.worker=i,this.init()}var t,i;return t=e,(i=[{key:"init",value:function(){this.listeners()}},{key:"listeners",value:function(){var e=this;document.addEventListener("click",(function(t){if(t.preventDefault(),t.target.closest(".file-wrapper")&&e.widget.inputFile.dispatchEvent(new MouseEvent("click")),t.target.closest(".selected-mode"))e.widget.openModeList();else{if(t.target.closest(".mode-item")){var i=t.target.closest(".mode-item");e.widget.selectionMode(i.textContent),e.worker.postMessage({type:"mode",mode:i.dataset.mode})}e.widget.closeModeList()}})),document.addEventListener("dragover",(function(t){t.preventDefault(),e.widget.fileWrapperActivate(),e.widget.closeModeList()})),document.addEventListener("dragleave",(function(t){t.preventDefault(),null===t.relatedTarget&&(e.widget.fileWrapperDisactivate(),e.widget.closeModeList())})),document.addEventListener("drop",(function(t){t.preventDefault(),t.target.closest(".file-wrapper")&&e.uploadFile({target:t.dataTransfer}),e.widget.fileWrapperDisactivate(),e.widget.closeModeList()})),this.widget.inputFile.addEventListener("input",(function(t){t.preventDefault(),e.uploadFile(t)})),this.worker.addEventListener("message",(function(t){"error"!==t.data.type&&e.widget.drawHash(t.data)}))}},{key:"uploadFile",value:function(e){var t=e.target,i=t.files&&t.files[0];this.widget.inputFile.value="",i&&this.worker.postMessage({type:"file",file:i})}}])&&a(t.prototype,i),e}())(new i(document.body),new function(){return new Worker(e.p+"index.bundle.worker.js")})}();